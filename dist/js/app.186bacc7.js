(function(){"use strict";var t={5057:function(t,e,i){var s=i(9242),r=i(3396);function n(t,e){const i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(i)}var l=i(89);const a={},o=(0,l.Z)(a,[["render",n]]);var h=o,u=i(2483);const c=(0,r._)("option",{selected:"",value:"bfs"},"BFS",-1),d=(0,r._)("option",{value:"dijkstra"},"Dijkstra",-1),v=[c,d];function f(t,e,i,n,l,a){const o=(0,r.up)("GridComponent");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.algo=e),required:"",name:"algorithm"},v,512),[[s.bM,t.algo]]),(0,r.Wm)(o,{algorithm:t.algo},null,8,["algorithm"])],64)}var p=i(4870),_=i(7139);const g={class:"configuration"},m={key:0},w={key:1},x={key:2},y={key:0,class:"table-container"},b=["id"],k=["onUpdate:modelValue","onClick","onMousedown","onMouseover"],S={class:"configuration"},C=["disabled"];function M(t,e,i,n,l,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",g,[null===t.start?((0,r.wg)(),(0,r.iD)("h3",m," Select the starting point")):null===t.end?((0,r.wg)(),(0,r.iD)("h3",w," Select the end point")):((0,r.wg)(),(0,r.iD)("h3",x,"Click and hover to block the cell, path can't have a blocked cell")),(0,r.wy)((0,r._)("input",{type:"number",name:"Rows","onUpdate:modelValue":e[0]||(e[0]=e=>t.M=e),onInput:e[1]||(e[1]=(...e)=>t.initializeMatrix&&t.initializeMatrix(...e))},null,544),[[s.nr,t.M]]),(0,r.wy)((0,r._)("input",{type:"number",name:"Columns","onUpdate:modelValue":e[2]||(e[2]=e=>t.N=e),onInput:e[3]||(e[3]=(...e)=>t.initializeMatrix&&t.initializeMatrix(...e))},null,544),[[s.nr,t.N]])]),t.M>0&&t.N>0&&t.matrix.length==t.M&&t.matrix[0].length==t.N?((0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("table",{class:"table",onMouseleave:e[5]||(e[5]=e=>t.canSelectBlockedCellByHover=!1)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.M,((i,n)=>((0,r.wg)(),(0,r.iD)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.N,((i,l)=>((0,r.wg)(),(0,r.iD)("td",{class:(0,_.C_)({pathEndpoints:t.matrix[n][l],blocked:t.isBlocked(n,l)}),id:`${n}-${l}`},[(0,r.wy)((0,r._)("input",{class:"matrix-checkbox","onUpdate:modelValue":e=>t.matrix[n][l]=e,onClick:(0,s.iM)((e=>t.markPoint(n,l)),["prevent"]),onMousedown:e=>t.markBlocked(n,l),onMouseup:e[4]||(e[4]=e=>t.canSelectBlockedCellByHover=!1),onMouseover:e=>t.canSelectBlockedCellByHover&&t.markBlocked(n,l),type:"checkbox"},null,40,k),[[s.e8,t.matrix[n][l]]])],10,b)))),256))])))),256))],32)])):(0,r.kq)("",!0),(0,r._)("div",S,[(0,r._)("button",{class:"findPathButton",onClick:e[6]||(e[6]=(...e)=>t.createShortestPath&&t.createShortestPath(...e)),disabled:!t.start||!t.end},"Find the shortest path",8,C),(0,r._)("button",{class:"findPathButton",onClick:e[7]||(e[7]=(...e)=>t.initializeMatrix&&t.initializeMatrix(...e))},"Reset")])],64)}var Z=i(7327);i(560);class j{constructor(t){(0,Z.Z)(this,"grid",void 0),(0,Z.Z)(this,"shortest_path_parent_refs",{}),this.grid=t}shortestPath(t,e){let i=this.search(t,e);if(!i)return[];let s=[],r=e;while(void 0!==this.shortest_path_parent_refs[r.toString()])s.push(r),r=this.shortest_path_parent_refs[r.toString()];return s.push(r),s.reverse()}search(t,e){let i={};i[t.toString()]=!0;let s=[];for(let r of t.adjecent)this.shortest_path_parent_refs[r.toString()]=t,s.push(r);while(s.length>0){let t=[];for(let r=0;r<s.length;r++){let n=s[r];if(void 0===i[n.toString()]){if(n===e)return!0;for(let e of n.adjecent)void 0===i[e.toString()]&&(this.shortest_path_parent_refs[e.toString()]=n,t.push(e));i[n.toString()]=!0}}s=t}return!1}}class P{constructor(t,e,i=!0,s=1){if((0,Z.Z)(this,"x",void 0),(0,Z.Z)(this,"y",void 0),(0,Z.Z)(this,"reachable",void 0),(0,Z.Z)(this,"weight",void 0),(0,Z.Z)(this,"adjecent",void 0),(0,Z.Z)(this,"distance_from_source",void 0),t<0||e<0)throw new Error("grid cell dimentions should be positive");this.x=t,this.y=e,this.reachable=i,this.weight=s,this.adjecent=[],this.distance_from_source=1/0}toString(){return`${this.x}-${this.y}`}}class z{constructor(t,e,i=[]){(0,Z.Z)(this,"data",[]),(0,Z.Z)(this,"row_size",void 0),(0,Z.Z)(this,"col_size",void 0),this.row_size=t,this.col_size=e,i=i.map((t=>t)),i.sort(((t,e)=>t[0]!==e[0]?t[0]-e[0]:t[1]-e[1]));for(let s=0;s<t;s++){let t=[];for(let r=0;r<e;r++){let e=!0;0!==i.length&&i[0][0]==s&&i[0][1]==r&&(e=!1,i.shift());let n=new P(s,r,e);t.push(n)}this.data.push(t)}this.setAdjCells()}getCell(t,e){if(this.isValidIndex(t,e))return this.data[t][e];throw new Error("Invalid index")}getAllCells(){let t=[];for(let e of this.data)for(let i of e)t.push(i);return t}setCellWeight(t,e,i){let s=this.getCell(t,e);s.weight=i}isValidIndex(t,e){return t>=0&&e>=0&&t<this.row_size&&e<this.col_size}canReachIndex(t,e){if(this.isValidIndex(t,e)){let i=this.getCell(t,e);return i.reachable}return!1}setAdjCells(){for(let t=0;t<this.row_size;t++)for(let e=0;e<this.col_size;e++){let i=this.data[t][e];i.reachable&&(this.canReachIndex(t-1,e)&&i.adjecent.push(this.getCell(t-1,e)),this.canReachIndex(t+1,e)&&i.adjecent.push(this.getCell(t+1,e)),this.canReachIndex(t,e-1)&&i.adjecent.push(this.getCell(t,e-1)),this.canReachIndex(t,e+1)&&i.adjecent.push(this.getCell(t,e+1)))}}}class D{constructor(t,e){(0,Z.Z)(this,"values_list",void 0),(0,Z.Z)(this,"values_index",{}),(0,Z.Z)(this,"compare_fn",void 0),this.compare_fn=e,this.values_list=t.map((t=>t));let i=t.length-1;for(let r=0;r<=i;r++)this.values_index[this.values_list[r].toString()]=r;let s=(i+i%2)/2-1;for(let r=s;r>=0;r--)this.heapifyDown(r)}extractRoot(){let t=this.values_list.length;this.replace(0,t-1);let e=this.values_list.pop();if(void 0!==e&&null!==e)return delete this.values_index[e.toString()],this.heapifyDown(0),e}insert(t){this.values_list.push(t);let e=this.values_list.length-1;this.values_index[t.toString()]=e,this.heapifyUp(e)}getRoot(){let t=this.values_list.length;if(t>0)return this.values_list[0]}resyncElement(t){let e=this.values_index[t.toString()];if(void 0===e)throw Error("Element doesn't exist");this.heapifyUp(e),this.heapifyDown(e)}heapifyUp(t){if(0===t)return;let e=(t+t%2)/2-1,i=this.values_list[e],s=this.values_list[t];this.compare_fn(i,s)||(this.replace(e,t),this.heapifyUp(e))}replace(t,e){let i=this.values_list.length-1;if(t>i||e>i)return;let s=this.values_list[t],r=this.values_list[e];this.values_list[t]=r,this.values_list[e]=s,this.values_index[s.toString()]=e,this.values_index[r.toString()]=t}heapifyDown(t){let e=2*t+1,i=e+1,s=this.values_list.length-1;if(e>s)return;let r,n=this.values_list[t],l=this.values_list[e];i<=s&&(r=this.values_list[i]),void 0===r?this.compare_fn(n,l)||(this.replace(t,e),this.heapifyDown(e)):this.compare_fn(r,l)&&!this.compare_fn(n,r)?(this.replace(t,i),this.heapifyDown(i)):this.compare_fn(l,r)&&!this.compare_fn(n,l)&&(this.replace(t,e),this.heapifyDown(e))}}class E{constructor(t,e,i=D){(0,Z.Z)(this,"data",void 0),(0,Z.Z)(this,"compare_fn",void 0),this.data=new i(t,e),this.compare_fn=e}peek(){return this.data.getRoot()}getMaxPriorityElement(){return this.data.extractRoot()}resyncElement(t){this.data.resyncElement(t)}isEmpty(){let t=this.data.getRoot();return void 0===t}insert(t){this.data.insert(t)}}class B{constructor(t,e){(0,Z.Z)(this,"grid",void 0),(0,Z.Z)(this,"source_cell",void 0),(0,Z.Z)(this,"shortest_path_parent_refs",{}),(0,Z.Z)(this,"shortest_distances",{}),(0,Z.Z)(this,"vertex_queue",void 0),this.grid=t;let i=t.getCell(e[0],e[1]);i.distance_from_source=0,this.source_cell=i;let s=t.getAllCells();this.vertex_queue=new E(s,((t,e)=>t.distance_from_source<=e.distance_from_source))}findAllShortestPaths(){while(!this.vertex_queue.isEmpty()){let t=this.vertex_queue.getMaxPriorityElement();this.shortest_distances[t.toString()]=t.distance_from_source;for(let e of t.adjecent)void 0===this.shortest_distances[e.toString()]&&this.relax(e,t)}}findShortestPath(t){let e=this.grid.getCell(...t);while(!this.vertex_queue.isEmpty()){let t=this.vertex_queue.getMaxPriorityElement(),i=t.distance_from_source;if(this.shortest_distances[t.toString()]=i,t===e)return this.buildPath(t);for(let e of t.adjecent)void 0===this.shortest_distances[e.toString()]&&this.relax(e,t)}return[]}buildPath(t){if(t.distance_from_source===1/0)return[];let e=[],i=t;while(void 0!==this.shortest_path_parent_refs[i.toString()])e.push(i),i=this.shortest_path_parent_refs[i.toString()];return e.push(this.source_cell),e.reverse()}relax(t,e){let i=t.distance_from_source>e.distance_from_source+e.weight;i&&(t.distance_from_source=e.distance_from_source+e.weight,this.shortest_path_parent_refs[t.toString()]=e,this.vertex_queue.resyncElement(t))}}var H=(0,r.aZ)({props:{algorithm:{type:String,default:"bfs"}},setup(t){const e=(0,p.iH)(null),i=(0,p.iH)(null);let s=(0,p.iH)(0),n=(0,p.iH)(0);const l=(0,p.iH)([]),a=(0,p.iH)({}),o=(0,p.iH)(!1);(0,r.bv)((()=>{s.value=30,n.value=30,h()}));const h=()=>{e.value=null,i.value=null,a.value={},l.value=Array.from({length:s.value},(()=>Array.from({length:n.value},(()=>!1))))},u=(t,s)=>{if(!e.value||!i.value)return;o.value=!0;const r=a.value[t]?{...a.value[t]}:{};r[s]=!r[s],a.value[t]=r},c=(t,s)=>{null===e.value?(e.value=[t,s],l.value[t][s]=!0):null===i.value&&(i.value=[t,s],l.value[t][s]=!0)},d=(t,e)=>!!a.value[t]&&!!a.value[t][e],v=()=>{const t=a.value,e=Object.keys(t).flatMap((e=>Object.keys(t[parseInt(e,10)]).filter((i=>t[parseInt(e,10)][parseInt(i,10)])).map((t=>[parseInt(e,10),parseInt(t,10)]))));return e},f=()=>{e.value&&i.value&&l.value.forEach(((t,s)=>t.forEach(((t,r)=>{s===e.value[0]&&r===e.value[1]||s===i.value[0]&&r===i.value[1]||(l.value[s][r]=!1)}))))},_=async()=>{f();let r=v(),a=new z(s.value,n.value,r),o=a.getCell(...e.value),h=a.getCell(...i.value),u=[];if("bfs"===t.algorithm){let t=new j(a);u=t.shortestPath(o,h)}else if("dijkstra"==t.algorithm){let t=new B(a,e.value);u=t.findShortestPath(i.value)}const c=t=>new Promise((e=>setTimeout(e,t)));for(const t of u)l.value[t.x][t.y]=!0,await c(50)};return{start:e,end:i,M:s,N:n,matrix:l,blocked:a,canSelectBlockedCellByHover:o,initializeMatrix:h,markBlocked:u,markPoint:c,isBlocked:d,getBlockedList:v,clearPath:f,createShortestPath:_}}});const I=(0,l.Z)(H,[["render",M]]);var O=I,R=(0,r.aZ)({components:{GridComponent:O},setup(){const t=(0,p.iH)("bfs");return{algo:t}}});const q=(0,l.Z)(R,[["render",f]]);var U=q;const V=[{path:"/",name:"home",component:U}],A=(0,u.p7)({history:(0,u.PO)("/pathfinder-visualizer/"),routes:V});var N=A;(0,s.ri)(h).use(N).mount("#app")}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,r,n){if(!s){var l=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var a=!0,o=0;o<s.length;o++)(!1&n||l>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[o])}))?s.splice(o--,1):(a=!1,n<l&&(l=n));if(a){t.splice(u--,1);var h=r();void 0!==h&&(e=h)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,l=s[0],a=s[1],o=s[2],h=0;if(l.some((function(e){return 0!==t[e]}))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(o)var u=o(i)}for(e&&e(s);h<l.length;h++)n=l[h],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},s=self["webpackChunkpathfinder_visualizer"]=self["webpackChunkpathfinder_visualizer"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(5057)}));s=i.O(s)})();
//# sourceMappingURL=app.186bacc7.js.map